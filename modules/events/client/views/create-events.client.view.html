
<section data-ng-controller="EventsCreateController as createEventCtrl">
      <div class="modal-header">
        <h3 class="modal-title">Book an Appointment</h3>
      </div>
      
      <div class="modal-body">

        <form class="form-horizontal" role="form" name="contactForm" ng-controller="PersonalsController as personalsCtrl">
            
            <div class="form-group" >
                <label class="control-label col-sm-2" for="repeatSelect"> Select a dentist </label>
                <select class="dentistList" ng-model="createEventCtrl.selectedDentist" ng-change="createEventCtrl.updateDentist(createEventCtrl.selectedDentist)" 
                        ng-options="personal.fName + ' ' + personal.lName  for personal in personalsCtrl.personals">
                </select>
            </div>

           <div class="form-group">
                <label class="control-label col-sm-2" for="treatment">Treatment</label>
                <select class="dentistList" ng-model="createEventCtrl.selectedTreatment" ng-change="createEventCtrl.updateTreatment(createEventCtrl.selectedTreatment)"
                        ng-options="treatment.description for treatment in createEventCtrl.selectedDentist.treatments">
                </select>
            </div>
            
        </form>
        
        <form class="form-inline" name="timeForm">
            
            <div class="form-group">
                <label class="control-label col-sm-3" for="startDate">Start Date</label>
                <div class="col-sm-9">
                    <input type="text" class="form-control" ng-model="$parent.event.startDate" id="startDate" 
                           uib-datepicker-popup="MM-dd-yyyy" is-open="data.isOpen" ng-click="data.isOpen = true" required>  
                </div>                
            </div>
            
            <div class="form-group">
                <label class="control-label col-sm-3" for="startTime">Start Time</label>
                <div class="col-sm-9">
                    <uib-timepicker ng-model="$parent.event.startDate" name="startTime"> </uib-timepicker>
                </div>                
            </div>
            
        </form>     
    
      </div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" ng-disabled="contactForm.$invalid || timeForm.$invalid" ng-click="createEventCtrl.addEvent()">Add Event</button>
        <button type="button" class="btn btn-default" ng-click="cancel()">Close</button>
      </div>

</section>

